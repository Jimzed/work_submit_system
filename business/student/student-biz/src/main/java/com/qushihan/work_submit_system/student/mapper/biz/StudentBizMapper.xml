<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.qushihan.work_submit_system.student.mapper.biz.StudentBizMapper">
    <update id="batchUpdateStudentByStudentId" parameterType="java.util.List">
        <foreach collection="itemList" index="index" item="item" separator=";">
            update work_submit_system.student
            <set>
                <if test="item.studentNumber != null">
                    student_number = #{item.studentNumber},
                </if>
                <if test="item.studentPassword != null">
                    student_password = #{item.studentPassword},
                </if>
                <if test="item.studentName != null">
                    student_name = #{item.studentName},
                </if>
                clazz_name = #{item.clazzName},
                <if test="item.isdel != null">
                    isdel = #{item.isdel},
                </if>
            </set>
            where student_id=#{item.studentId}
        </foreach>
    </update>

    <update id="setClazzIdNullByStudentId">
        update work_submit_system.student
        set clazz_id = NULL
        where student_id = #{studentId}
    </update>
</mapper>